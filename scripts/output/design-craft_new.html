<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Design Craft | data-centered</title>
<meta content="Design Craft bridges visualization and storytelling—the art of making data comprehensible and compelling. Great design isn't decoration; it's the mech" name="description"/>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&amp;family=IBM+Plex+Sans:wght@400;500;600&amp;display=swap" rel="stylesheet"/>
<!-- TUI Enhancement Libraries -->
<script src="https://unpkg.com/@popperjs/core@2"></script>
<script src="https://unpkg.com/tippy.js@6"></script>
<script src="https://unpkg.com/animejs@3.2.1/lib/anime.min.js"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<style>
    :root {
      --bg-base: #0a0a0a;
      --bg-surface: #0f0f0f;
      --bg-elevated: #161616;
      --bg-hover: #1c1c1c;

      --border-dim: #252525;
      --border-mid: #333;
      --border-bright: #444;
      --border-accent: #5ccfe6;

      --text-dim: #666;
      --text-mid: #999;
      --text-bright: #ccc;
      --text-white: #f0f0f0;

      --cyan: #5ccfe6;
      --orange: #ffab70;
      --green: #87c38a;
      --purple: #c9a0dc;
      --amber: #d4a84b;
      --red: #e06c75;

      /* Typography - Best practices: 16px base minimum */
      --font-xs: 0.75rem;    /* 12px */
      --font-sm: 0.8125rem;  /* 13px */
      --font-base: 0.875rem; /* 14px */
      --font-md: 1rem;       /* 16px */
      --font-lg: 1.125rem;   /* 18px */
      --font-xl: 1.25rem;    /* 20px */
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    html {
      font-size: 16px; /* Base for rem calculations */
    }

    body {
      min-height: 100vh;
      font-family: 'IBM Plex Sans', -apple-system, sans-serif;
      background: var(--bg-base);
      color: var(--text-bright);
      font-size: var(--font-base);
      line-height: 1.6;
    }

    /* FULL-WIDTH EDGE-TO-EDGE */
    .container {
      width: 100%;
      max-width: 100%;
      padding: 1rem 1.5rem;
    }

    @media (min-width: 1400px) {
      .container { padding: 1rem 2.5rem; }
    }

    a { color: inherit; text-decoration: none; }

    /* ═══════════════════════════════════════════
       HEADER - Full width
       ═══════════════════════════════════════════ */

    .header {
      margin-bottom: 1rem;
    }

    .ascii-border {
      color: var(--border-mid);
      font-family: 'JetBrains Mono', monospace;
      font-size: 11px;
      line-height: 1;
      white-space: nowrap;
      overflow: hidden;
      user-select: none;
    }

    .header-content {
      padding: 0.75rem 1.25rem;
      border-left: 1px solid var(--border-mid);
      border-right: 1px solid var(--border-mid);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .back-link,
    .next-link {
      color: var(--text-dim);
      font-size: var(--font-lg);
      transition: color 0.15s;
      font-family: 'JetBrains Mono', monospace;
    }

    .back-link:hover,
    .next-link:hover { color: var(--cyan); }

    .topic-indicator { background: #8b5cf6 !important;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--cyan);
      box-shadow: 0 0 12px var(--cyan);
    }

    .brand {
      color: var(--cyan);
      font-weight: 600;
      font-size: var(--font-lg);
      font-family: 'JetBrains Mono', monospace;
      letter-spacing: 0.02em;
    }

    .resource-count {
      color: var(--text-dim);
      font-size: var(--font-sm);
      padding: 3px 10px;
      border: 1px solid var(--border-dim);
      border-radius: 3px;
      font-family: 'JetBrains Mono', monospace;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .stats-toggle {
      color: var(--text-dim);
      font-size: var(--font-sm);
      padding: 5px 12px;
      border: 1px solid var(--border-dim);
      border-radius: 3px;
      background: transparent;
      cursor: pointer;
      transition: all 0.15s;
      font-family: 'JetBrains Mono', monospace;
    }

    .stats-toggle:hover,
    .stats-toggle.active {
      color: var(--cyan);
      border-color: var(--cyan);
    }

    .clock {
      color: var(--text-dim);
      font-size: var(--font-sm);
      font-family: 'JetBrains Mono', monospace;
    }

    /* ═══════════════════════════════════════════
       MAIN GRID - Full width, 3-column
       ═══════════════════════════════════════════ */

    .main-grid {
      display: grid;
      grid-template-columns: 560px 1fr 300px;
      gap: 1.5rem;
      height: calc(100vh - 140px);
    }

    .main-grid.insights-hidden {
      grid-template-columns: 560px 1fr;
    }

    .main-grid.insights-hidden .insights-panel {
      display: none;
    }

    @media (max-width: 1400px) {
      .main-grid { grid-template-columns: 480px 1fr; }
      .insights-panel { display: none; }
    }

    @media (max-width: 1100px) {
      .main-grid { grid-template-columns: 320px 1fr; }
      .viewers-row { flex-direction: column; }
    }

    @media (max-width: 900px) {
      .main-grid { grid-template-columns: 1fr; }
      .context-panel { display: none; }
    }

    /* ═══════════════════════════════════════════
       PANEL COMPONENT
       ═══════════════════════════════════════════ */

    .panel {
      margin-bottom: 1rem;
    }

    .panel-top, .panel-bottom {
      color: var(--border-mid);
      font-family: 'JetBrains Mono', monospace;
      font-size: 10px;
      white-space: nowrap;
      overflow: hidden;
      line-height: 1;
    }

    .panel-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      border-left: 1px solid var(--border-mid);
      border-right: 1px solid var(--border-mid);
      font-size: var(--font-xs);
      font-family: 'JetBrains Mono', monospace;
      color: var(--text-mid);
      letter-spacing: 0.1em;
    }

    .panel-icon { font-size: 1rem; }

    .panel.accent-cyan .panel-icon { color: var(--cyan); }
    .panel.accent-green .panel-icon { color: var(--green); }
    .panel.accent-purple .panel-icon { color: var(--purple); }
    .panel.accent-amber .panel-icon { color: var(--amber); }
    .panel.accent-orange .panel-icon { color: var(--orange); }

    .panel-body {
      border-left: 1px solid var(--border-mid);
      border-right: 1px solid var(--border-mid);
      padding: 1rem;
    }

    /* ═══════════════════════════════════════════
       CONTEXT PANEL (Left Sidebar)
       ═══════════════════════════════════════════ */

    .context-panel {
      overflow-y: auto;
      scrollbar-width: none;
    }

    .context-panel::-webkit-scrollbar { display: none; }

    .context-lede {
      color: var(--text-mid);
      font-size: var(--font-base);
      line-height: 1.7;
      margin-bottom: 1rem;
    }

    .context-lede strong {
      color: var(--text-white);
    }

    .stat-box {
      background: var(--bg-elevated);
      padding: 0.5rem 0.75rem;
      border-radius: 4px;
      border: 1px solid var(--border-dim);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .stat-num {
      color: var(--cyan);
      font-size: var(--font-base);
      font-weight: 600;
      font-family: 'JetBrains Mono', monospace;
    }

    .stat-label {
      color: var(--text-dim);
      font-size: var(--font-xs);
      letter-spacing: 0.03em;
    }

    /* ═══════════════════════════════════════════
       VIEWERS ROW - Side by side
       ═══════════════════════════════════════════ */

    .viewers-row {
      display: flex;
      gap: 1rem;
    }

    .viewer-panel {
      flex: 1;
      min-width: 0;
    }

    .viewer-panel .panel-body {
      padding: 0.75rem;
    }

    .main-viewer {
      position: relative;
      border-radius: 6px;
      overflow: hidden;
      margin-bottom: 0.5rem;
      cursor: pointer;
      border: 1px solid var(--border-dim);
      background: var(--bg-elevated);
    }

    .main-viewer img {
      width: 100%;
      height: 140px;
      object-fit: cover;
      display: block;
    }

    .main-viewer:hover::after {
      content: 'enlarge';
      position: absolute;
      bottom: 8px;
      right: 8px;
      background: rgba(0,0,0,0.9);
      color: var(--cyan);
      padding: 4px 10px;
      font-size: var(--font-xs);
      border-radius: 3px;
      font-family: 'JetBrains Mono', monospace;
    }

    .thumbnail-row {
      display: flex;
      gap: 0.35rem;
    }

    .thumbnail {
      flex: 1;
      border-radius: 4px;
      overflow: hidden;
      cursor: pointer;
      opacity: 0.4;
      transition: all 0.2s;
      border: 2px solid transparent;
    }

    .thumbnail:hover { opacity: 0.7; }

    .thumbnail.active {
      opacity: 1;
      border-color: var(--cyan);
    }

    .thumbnail img {
      width: 100%;
      height: 32px;
      object-fit: cover;
      display: block;
    }

    /* PDF preview */
    .pdf-preview {
      position: relative;
      border: 1px solid var(--border-dim);
      border-radius: 6px;
      overflow: hidden;
      margin-bottom: 0.5rem;
      cursor: pointer;
      height: 140px;
    }

    .pdf-preview iframe {
      width: 100%;
      height: 140px;
      border: none;
      pointer-events: none;
    }

    .pdf-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(transparent, rgba(0,0,0,0.8));
      color: var(--amber);
      font-size: var(--font-xs);
      padding: 1.5rem 0.5rem 0.35rem;
      text-align: center;
      opacity: 0;
      transition: opacity 0.2s;
    }

    .pdf-preview:hover .pdf-overlay {
      opacity: 1;
    }

    .slide-tabs {
      display: flex;
      gap: 0.35rem;
    }

    .slide-tab {
      flex: 1;
      padding: 0.35rem 0.25rem;
      font-size: 10px;
      text-align: center;
      background: var(--bg-elevated);
      border: 1px solid var(--border-dim);
      border-radius: 4px;
      cursor: pointer;
      color: var(--text-dim);
      transition: all 0.2s;
    }

    .slide-tab:hover {
      color: var(--text-mid);
      border-color: var(--text-dim);
    }

    .slide-tab.active {
      background: var(--amber);
      color: var(--bg-base);
      border-color: var(--amber);
      font-weight: 600;
    }

    /* Lightbox */
    .lightbox {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.95);
      z-index: 2000;
      justify-content: center;
      align-items: center;
      cursor: pointer;
    }

    .lightbox.active { display: flex; }

    .lightbox img,
    .lightbox iframe {
      max-width: 95vw;
      max-height: 95vh;
      object-fit: contain;
    }

    .lightbox iframe {
      width: 90vw;
      height: 90vh;
      border: none;
      background: #fff;
    }

    .lightbox-close {
      position: absolute;
      top: 20px;
      right: 30px;
      color: #fff;
      font-size: 2rem;
      cursor: pointer;
      z-index: 10;
    }

    /* ═══════════════════════════════════════════
       KEY TERMS
       ═══════════════════════════════════════════ */

    .terms-grid {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .term-item {
      background: var(--bg-elevated);
      padding: 0.75rem;
      border-radius: 4px;
      border-left: 3px solid var(--cyan);
    }

    .term-name {
      color: var(--text-white);
      font-size: var(--font-sm);
      font-weight: 600;
      display: block;
      margin-bottom: 0.25rem;
    }

    .term-def {
      color: var(--text-mid);
      font-size: var(--font-xs);
      line-height: 1.5;
    }

    /* ═══════════════════════════════════════════
       CATEGORY DESCRIPTION PANE
       ═══════════════════════════════════════════ */

    .category-pane {
      background: var(--bg-elevated);
      border: 1px solid var(--border-mid);
      border-radius: 6px;
      margin-bottom: 0.75rem;
      overflow: hidden;
    }

    .category-tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 0;
      border-bottom: 1px solid var(--border-dim);
      background: var(--bg-surface);
    }

    .category-tab {
      font-size: var(--font-xs);
      font-family: 'JetBrains Mono', monospace;
      color: var(--text-dim);
      padding: 8px 14px;
      border: none;
      border-right: 1px solid var(--border-dim);
      cursor: pointer;
      transition: all 0.15s;
      background: transparent;
    }

    .category-tab:hover {
      color: var(--text-bright);
      background: var(--bg-hover);
    }

    .category-tab.active {
      color: var(--cyan);
      background: var(--bg-elevated);
      border-bottom: 2px solid var(--cyan);
      margin-bottom: -1px;
    }

    .split-pane {
      display: flex;
      gap: 1px;
      background: var(--border-dim);
      min-height: 90px;
    }

    .category-description {
      flex: 1;
      padding: 0.75rem;
      background: var(--bg-base);
    }

    .resource-preview {
      flex: 1;
      padding: 0.75rem;
      background: var(--bg-base);
      border-left: 1px solid var(--border-dim);
    }

    .category-description-title {
      color: var(--cyan);
      font-size: var(--font-sm);
      font-weight: 600;
      margin-bottom: 0.35rem;
      font-family: 'JetBrains Mono', monospace;
    }

    .category-description-text {
      color: var(--text-mid);
      font-size: var(--font-xs);
      line-height: 1.5;
    }

    .category-description-count {
      color: var(--text-dim);
      font-size: 10px;
      margin-top: 0.35rem;
      font-family: 'JetBrains Mono', monospace;
    }

    /* Resource Preview Pane */
    .preview-empty {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
      color: var(--text-dim);
      font-size: var(--font-xs);
      gap: 0.5rem;
    }

    .preview-icon {
      color: var(--border-dim);
      font-size: 1.25rem;
    }

    .preview-source {
      font-size: 10px;
      color: var(--amber);
      font-family: 'JetBrains Mono', monospace;
      text-transform: uppercase;
      margin-bottom: 0.25rem;
    }

    .preview-title {
      font-size: var(--font-sm);
      color: var(--text-bright);
      font-weight: 600;
      margin-bottom: 0.35rem;
      line-height: 1.3;
    }

    .preview-scope {
      font-size: var(--font-xs);
      color: var(--text-mid);
      line-height: 1.4;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .preview-meta {
      display: flex;
      gap: 0.5rem;
      margin-top: 0.35rem;
      font-size: 10px;
    }

    .preview-author {
      color: var(--text-dim);
    }

    .preview-granularity {
      color: var(--purple);
      font-family: 'JetBrains Mono', monospace;
    }

    /* ═══════════════════════════════════════════
       RESOURCES LIST - Independent Scroll, Single Row
       ═══════════════════════════════════════════ */

    .resources-panel {
      display: flex;
      flex-direction: column;
      min-height: 0;
    }

    .resources-scroll {
      flex: 1;
      overflow-y: auto;
      scrollbar-width: none; /* Firefox */
      -ms-overflow-style: none; /* IE/Edge */
    }

    .resources-scroll::-webkit-scrollbar {
      display: none; /* Chrome/Safari */
    }

    .resources-section {
      margin-bottom: 0.5rem;
    }

    .resources-section.hidden {
      display: none;
    }

    .category-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 0.75rem;
      background: var(--bg-surface);
      cursor: pointer;
      transition: background 0.15s;
      border-bottom: 1px solid var(--border-dim);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .category-header:hover {
      background: var(--bg-hover);
    }

    .category-arrow {
      color: var(--text-dim);
      font-size: var(--font-sm);
      transition: transform 0.2s;
    }

    .category-header.collapsed .category-arrow {
      transform: rotate(-90deg);
    }

    .category-name {
      color: var(--text-white);
      font-size: var(--font-sm);
      font-weight: 600;
      flex: 1;
      font-family: 'JetBrains Mono', monospace;
    }

    .category-count {
      color: var(--text-dim);
      font-size: var(--font-xs);
      font-family: 'JetBrains Mono', monospace;
    }

    /* SINGLE-ROW RESOURCE LAYOUT */
    .resource-row {
      display: grid;
      grid-template-columns: 20px 6px 1fr 70px 80px 40px 20px;
      align-items: center;
      gap: 0.25rem;
      padding: 0.2rem 0.5rem;
      transition: background 0.15s;
      border-bottom: 1px solid var(--border-dim);
      cursor: pointer;
    }

    .resource-row:hover {
      background: var(--bg-hover);
    }

    .resource-row.hidden {
      display: none;
    }

    .resource-tree {
      color: var(--border-dim);
      font-size: 10px;
      font-family: 'JetBrains Mono', monospace;
    }

    .resource-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      flex-shrink: 0;
    }

    .resource-title {
      color: var(--text-white);
      font-size: var(--font-sm);
      font-weight: 400;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .resource-row:hover .resource-title {
      color: var(--cyan);
    }

    .resource-source {
      color: var(--text-dim);
      font-size: var(--font-xs);
      font-family: 'JetBrains Mono', monospace;
    }

    .resource-author {
      color: var(--text-mid);
      font-size: var(--font-xs);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .resource-time {
      color: var(--text-dim);
      font-size: var(--font-xs);
      font-family: 'JetBrains Mono', monospace;
      text-align: right;
    }

    .resource-arrow {
      color: var(--text-dim);
      font-size: var(--font-sm);
      opacity: 0;
      transition: opacity 0.15s;
      text-align: center;
    }

    .resource-row:hover .resource-arrow {
      opacity: 1;
    }

    /* ═══════════════════════════════════════════
       RESOURCE CARD POPUP - TUI STYLED
       ═══════════════════════════════════════════ */

    .resource-card-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      z-index: 999;
      opacity: 0;
      visibility: hidden;
      transition: all 0.2s;
    }

    .resource-card-backdrop.visible {
      opacity: 1;
      visibility: visible;
    }

    .resource-card {
      position: fixed;
      z-index: 1000;
      width: 380px;
      max-width: calc(100vw - 2rem);
      background: var(--bg-surface);
      border: 1px solid var(--border-mid);
      border-radius: 6px;
      opacity: 0;
      visibility: hidden;
      transform: translateY(10px);
      transition: all 0.2s ease;
      font-family: 'IBM Plex Sans', sans-serif;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0,0,0,0.4);
    }

    .resource-card.visible {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    /* Card ASCII border top */
    .rc-border-top {
      color: var(--border-mid);
      font-family: 'JetBrains Mono', monospace;
      font-size: 9px;
      padding: 0 0.75rem;
      background: var(--bg-elevated);
      line-height: 1.2;
      white-space: nowrap;
      overflow: hidden;
    }

    .rc-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.4rem 0.75rem;
      background: var(--bg-elevated);
      border-bottom: 1px solid var(--border-dim);
    }

    .rc-source {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .rc-source-icon {
      font-size: var(--font-base);
    }

    .rc-source-label {
      font-family: 'JetBrains Mono', monospace;
      font-size: var(--font-xs);
      font-weight: 600;
      text-transform: uppercase;
      color: var(--cyan);
      letter-spacing: 0.05em;
    }

    .rc-close {
      color: var(--text-dim);
      font-size: var(--font-lg);
      cursor: pointer;
      padding: 0.25rem;
      transition: color 0.15s;
    }

    .rc-close:hover { color: var(--red); }

    .rc-title-section {
      padding: 0.6rem 0.75rem;
      border-bottom: 1px solid var(--border-dim);
    }

    .rc-title {
      font-size: var(--font-base);
      font-weight: 600;
      color: var(--text-white);
      margin: 0 0 0.35rem 0;
      line-height: 1.3;
    }

    .rc-scope-note {
      font-size: var(--font-xs);
      color: var(--text-mid);
      line-height: 1.5;
    }

    .rc-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 0.35rem;
      padding: 0.5rem 0.75rem;
      background: var(--bg-base);
      border-bottom: 1px solid var(--border-dim);
    }

    .rc-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.2rem;
      font-family: 'JetBrains Mono', monospace;
      font-size: 10px;
      padding: 0.15rem 0.4rem;
      border-radius: 3px;
      background: var(--bg-elevated);
      color: var(--text-mid);
      border: 1px solid var(--border-dim);
    }

    .rc-badge.domain {
      background: rgba(92, 207, 230, 0.1);
      color: var(--cyan);
      border-color: rgba(92, 207, 230, 0.3);
    }

    .rc-badge.granularity-foundational {
      background: rgba(135, 195, 138, 0.1);
      color: var(--green);
      border-color: rgba(135, 195, 138, 0.3);
    }

    .rc-badge.granularity-conceptual {
      background: rgba(92, 207, 230, 0.1);
      color: var(--cyan);
      border-color: rgba(92, 207, 230, 0.3);
    }

    .rc-badge.granularity-implementation {
      background: rgba(201, 160, 220, 0.1);
      color: var(--purple);
      border-color: rgba(201, 160, 220, 0.3);
    }

    .rc-badge.granularity-advanced {
      background: rgba(224, 108, 117, 0.1);
      color: var(--red);
      border-color: rgba(224, 108, 117, 0.3);
    }

    .rc-author {
      padding: 0.5rem 0.75rem;
      border-bottom: 1px solid var(--border-dim);
    }

    .rc-author-header {
      display: flex;
      align-items: center;
      gap: 0.35rem;
    }

    .rc-author-icon {
      font-size: var(--font-xs);
      opacity: 0.6;
    }

    .rc-author-name {
      font-weight: 600;
      font-size: var(--font-xs);
      color: var(--text-white);
    }

    .rc-author-details {
      font-size: 10px;
      color: var(--text-dim);
      margin-left: 0.35rem;
    }

    .rc-relationships {
      padding: 0.5rem 0.75rem;
      border-bottom: 1px solid var(--border-dim);
    }

    .rc-rel-header {
      display: flex;
      align-items: center;
      gap: 0.25rem;
      font-size: 10px;
      font-weight: 600;
      color: var(--text-dim);
      margin-bottom: 0.35rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      font-family: 'JetBrains Mono', monospace;
    }

    .rc-rel-list {
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
    }

    .rc-rel-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: var(--font-sm);
    }

    .rc-rel-type {
      font-family: 'JetBrains Mono', monospace;
      font-size: var(--font-xs);
      color: var(--text-dim);
      min-width: 60px;
    }

    .rc-rel-link {
      color: var(--cyan);
      cursor: pointer;
      transition: all 0.15s;
    }

    .rc-rel-link:hover {
      text-shadow: 0 0 8px rgba(92, 207, 230, 0.5);
    }

    .rc-actions {
      display: flex;
      gap: 0.75rem;
      padding: 1rem;
      background: var(--bg-elevated);
    }

    .rc-btn {
      flex: 1;
      padding: 0.6rem 1rem;
      border: 1px solid var(--border-mid);
      border-radius: 4px;
      font-family: 'JetBrains Mono', monospace;
      font-size: var(--font-sm);
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s;
    }

    .rc-btn-open {
      background: var(--cyan);
      color: var(--bg-base);
      border-color: var(--cyan);
    }

    .rc-btn-open:hover {
      background: #4ab8d0;
      box-shadow: 0 0 16px rgba(92, 207, 230, 0.4);
    }

    .rc-btn-close {
      background: transparent;
      color: var(--text-mid);
    }

    .rc-btn-close:hover {
      background: var(--bg-hover);
      color: var(--text-white);
    }

    /* ═══════════════════════════════════════════
       MOBILE STYLES (max-width: 768px)
       ═══════════════════════════════════════════ */
    @media (max-width: 768px) {
      /* CRITICAL: Remove fixed height so content can flow */
      .main-grid {
        height: auto !important;
        min-height: auto;
        display: block; /* Switch from grid to block */
      }

      /* Allow panel body to expand */
      .panel-body {
        overflow: visible !important;
      }

      /* Resources scroll - no height constraint */
      .resources-scroll {
        overflow: visible;
        max-height: none;
      }

      /* Container padding */
      .container {
        padding: 0.75rem 1rem;
      }

      /* Header - stack vertically, hide non-essential */
      .header-content {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
        padding: 0.75rem 1rem;
      }

      .header-left {
        width: 100%;
        justify-content: flex-start;
      }

      .header-right {
        width: 100%;
        justify-content: space-between;
      }

      .stats-toggle {
        font-size: 11px;
        padding: 4px 8px;
      }

      .clock {
        display: none; /* Hide clock on mobile - not essential */
      }

      .brand {
        font-size: var(--font-base);
      }

      .resource-count {
        font-size: 11px;
        padding: 2px 6px;
      }

      /* Category tabs - horizontal scroll */
      .category-tabs {
        display: flex;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        gap: 0;
        padding-bottom: 2px;
      }

      .category-tabs::-webkit-scrollbar {
        display: none;
      }

      .category-tab {
        flex-shrink: 0;
        padding: 6px 12px;
        font-size: 11px;
        white-space: nowrap;
      }

      /* Category pane - simpler layout */
      .category-pane {
        height: auto;
        min-height: 120px;
      }

      .split-pane {
        flex-direction: column;
      }

      .category-description {
        border-right: none;
        border-bottom: 1px dashed var(--border-dim);
        padding: 0.75rem;
      }

      .resource-preview {
        display: none; /* Hide hover preview on mobile */
      }

      /* Resource list - mobile optimized */
      .resource-row {
        grid-template-columns: 16px 6px 1fr 20px; /* tree, dot, title, arrow */
        padding: 0.5rem 0.75rem;
        gap: 0.4rem;
      }

      .resource-title {
        font-size: 13px;
        white-space: normal; /* Allow wrapping */
        overflow: visible;
        text-overflow: clip;
        line-height: 1.3;
      }

      /* Hide metadata columns on mobile */
      .resource-source,
      .resource-author,
      .resource-time {
        display: none;
      }

      .resource-tree {
        font-size: 10px;
      }

      /* Resource card - Bottom sheet */
      .resource-card {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        top: auto;
        width: 100%;
        max-width: 100%;
        border-radius: 16px 16px 0 0;
        transform: translateY(100%);
        max-height: 80vh;
        overflow-y: auto;
        padding: 1rem 1.25rem 2rem 1.25rem;
        z-index: 1000;
      }

      .resource-card.visible {
        transform: translateY(0);
      }

      .resource-card::before {
        content: '';
        display: block;
        width: 40px;
        height: 4px;
        background: var(--border-bright);
        border-radius: 2px;
        margin: 0 auto 1rem auto;
      }

      .rc-border-top {
        display: none; /* Hide ASCII border on mobile */
      }

      .rc-header {
        padding: 0 0 0.5rem 0;
      }

      .rc-title-section {
        padding: 0.5rem 0;
      }

      .rc-title {
        font-size: var(--font-md);
      }

      .rc-scope-note {
        font-size: var(--font-sm);
      }

      .rc-meta {
        padding: 0.5rem 0;
        flex-wrap: wrap;
      }

      .rc-author {
        padding: 0.5rem 0;
      }

      .rc-relationships {
        padding: 0.5rem 0;
      }

      .rc-actions {
        padding: 0.75rem 0 0 0;
        flex-direction: column;
        gap: 0.5rem;
      }

      .rc-btn {
        width: 100%;
        padding: 0.75rem;
        font-size: var(--font-sm);
      }

      /* Panels - full width stacked */
      .panel {
        margin-bottom: 1rem;
      }

      .panel-header {
        font-size: 11px;
        padding: 0.5rem 0.75rem;
      }

      .panel-body {
        padding: 0.75rem;
      }

      /* Hide side panels on mobile */
      .context-panel,
      .insights-panel {
        display: none;
      }

      /* Infographic/Slides viewers - hide on mobile */
      .viewers-row {
        display: none;
      }

      /* ASCII borders - hide decorative elements */
      .ascii-border {
        font-size: 9px;
      }
    }

    /* Extra small screens */
    @media (max-width: 480px) {
      .container {
        padding: 0.5rem 0.75rem;
      }

      .header-content {
        padding: 0.5rem 0.75rem;
      }

      .brand {
        font-size: var(--font-sm);
      }

      .category-tab {
        padding: 5px 10px;
        font-size: 10px;
      }

      .resource-row td {
        font-size: 11px;
        padding: 0.3rem 0.4rem;
      }

      .category-description-title {
        font-size: var(--font-sm);
      }

      .category-description-text {
        font-size: 12px;
      }
    }

    /* ═══════════════════════════════════════════
       INSIGHTS PANEL
       ═══════════════════════════════════════════ */

    .insights-panel {
      overflow-y: auto;
      scrollbar-width: none;
    }

    .insights-panel::-webkit-scrollbar { display: none; }

    .insights-section {
      margin-bottom: 1rem;
      padding-bottom: 1rem;
      border-bottom: 1px dashed var(--border-dim);
    }

    .insights-section:last-child {
      border-bottom: none;
    }

    .insights-title {
      color: var(--text-dim);
      font-size: var(--font-xs);
      letter-spacing: 0.1em;
      margin-bottom: 0.75rem;
      font-family: 'JetBrains Mono', monospace;
    }

    .insights-bar {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
      font-size: var(--font-xs);
    }

    .insights-bar-label {
      color: var(--text-mid);
      width: 55px;
    }

    .insights-bar-track {
      flex: 1;
      height: 6px;
      background: var(--border-dim);
      border-radius: 3px;
      overflow: hidden;
    }

    .insights-bar-fill {
      height: 100%;
      border-radius: 3px;
    }

    .geo-usa { background: var(--cyan); }
    .geo-eu { background: var(--purple); }
    .geo-asia { background: var(--green); }
    .geo-unknown { background: var(--text-dim); }

    .insights-bar-value {
      color: var(--text-dim);
      width: 35px;
      text-align: right;
      font-family: 'JetBrains Mono', monospace;
    }

    .insights-gap {
      background: rgba(224, 108, 117, 0.1);
      border-left: 3px solid var(--red);
      padding: 0.5rem 0.75rem;
      font-size: var(--font-xs);
      color: var(--red);
      margin-top: 0.75rem;
      border-radius: 0 4px 4px 0;
    }

    .insights-voices {
      display: flex;
      gap: 1.5rem;
    }

    .insights-voice {
      display: flex;
      align-items: center;
      gap: 0.4rem;
      font-size: var(--font-sm);
    }

    .insights-voice-icon {
      font-size: var(--font-base);
    }

    .insights-voice-icon.male { color: var(--cyan); }
    .insights-voice-icon.female { color: var(--purple); }
    .insights-voice-icon.unknown { color: var(--text-dim); }

    .insights-contributor {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
      font-size: var(--font-xs);
    }

    .insights-contributor-name {
      color: var(--text-mid);
      width: 80px;
    }

    .insights-contributor-count {
      color: var(--text-dim);
      width: 25px;
      font-family: 'JetBrains Mono', monospace;
    }

    .insights-contributor-bar {
      display: flex;
      gap: 3px;
    }

    .insights-contributor-pip {
      width: 8px;
      height: 8px;
      background: var(--cyan);
      border-radius: 2px;
    }

    /* ═══════════════════════════════════════════
       FOOTER
       ═══════════════════════════════════════════ */

    .footer {
      margin-top: 1rem;
      padding: 0.75rem 1.5rem;
      border-top: 1px solid var(--border-dim);
      display: flex;
      justify-content: space-between;
      font-size: var(--font-xs);
      color: var(--text-dim);
      font-family: 'JetBrains Mono', monospace;
    }

    .status-group {
      display: flex;
      gap: 2rem;
    }

    .status-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .status-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--green);
      box-shadow: 0 0 8px var(--green);
    }

    /* ═══════════════════════════════════════════════════════════════
       TUI ENHANCEMENTS v2.0
       ═══════════════════════════════════════════════════════════════ */

    /* Keyboard Focus States */
    .resource-row.tui-focused {
      background: linear-gradient(90deg, rgba(92, 207, 230, 0.15) 0%, transparent 100%);
      border-left: 2px solid var(--cyan);
      outline: none;
    }

    .resource-row:focus {
      outline: none;
    }

    .resource-row:focus-visible {
      outline: 1px solid rgba(92, 207, 230, 0.4);
      outline-offset: -1px;
    }

    /* Quick Peek */
    .quick-peek-content {
      background: var(--bg-elevated);
      border: 1px solid var(--border-bright);
      border-left: 3px solid var(--cyan);
      border-radius: 0 4px 4px 0;
      margin: 0.5rem 0 0.5rem 1.5rem;
      padding: 1rem;
      font-family: 'JetBrains Mono', monospace;
      overflow: hidden;
    }

    .qp-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 0.75rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid var(--border-mid);
    }

    .qp-title { color: var(--text-white); font-size: 0.85rem; font-weight: 500; }
    .qp-meta { color: var(--text-dim); font-size: 0.7rem; }
    .qp-body { color: var(--text-mid); font-size: 0.75rem; line-height: 1.6; margin-bottom: 1rem; }
    .qp-actions { display: flex; gap: 1rem; align-items: center; }
    .qp-open { color: var(--cyan); font-size: 0.75rem; text-decoration: none; transition: color 0.15s ease; }
    .qp-open:hover { color: var(--text-white); }
    .qp-close {
      background: transparent;
      border: 1px solid var(--border-mid);
      color: var(--text-dim);
      padding: 0.25rem 0.75rem;
      font-size: 0.7rem;
      font-family: 'JetBrains Mono', monospace;
      border-radius: 2px;
      cursor: pointer;
      transition: all 0.15s ease;
    }
    .qp-close:hover { border-color: var(--border-bright); color: var(--text-white); }

    .resource-row.quick-peek-active {
      background: rgba(92, 207, 230, 0.08);
      border-left: 2px solid var(--cyan);
    }

    /* Help Overlay */
    .tui-help-overlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(4px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.2s ease, visibility 0.2s ease;
    }

    .tui-help-overlay.visible { opacity: 1; visibility: visible; }

    .tui-help-modal {
      background: var(--bg-elevated);
      border: 1px solid var(--border-bright);
      border-radius: 8px;
      width: 90%;
      max-width: 420px;
      font-family: 'JetBrains Mono', monospace;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    }

    .tui-help-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 1.25rem;
      border-bottom: 1px solid var(--border-mid);
    }

    .tui-help-title { color: var(--text-white); font-size: 0.9rem; font-weight: 600; }
    .tui-help-close {
      background: transparent; border: none; color: var(--text-dim);
      font-size: 1.25rem; cursor: pointer; padding: 0; line-height: 1;
      transition: color 0.15s ease;
    }
    .tui-help-close:hover { color: var(--text-white); }

    .tui-help-body {
      padding: 1.25rem;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 1.5rem;
    }

    .tui-help-section-title {
      color: var(--cyan);
      font-size: 0.65rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-bottom: 0.75rem;
    }

    .tui-help-row { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.5rem; }
    .tui-help-row kbd {
      background: var(--bg-base);
      border: 1px solid var(--border-mid);
      border-radius: 3px;
      padding: 0.2rem 0.5rem;
      font-size: 0.7rem;
      color: var(--text-white);
      min-width: 2rem;
      text-align: center;
    }
    .tui-help-row span { color: var(--text-dim); font-size: 0.7rem; }

    .tui-help-footer {
      padding: 0.75rem 1.25rem;
      border-top: 1px solid var(--border-mid);
      color: var(--text-dim);
      font-size: 0.65rem;
      text-align: center;
    }
    .tui-help-footer kbd {
      background: var(--bg-base);
      border: 1px solid var(--border-mid);
      border-radius: 3px;
      padding: 0.1rem 0.35rem;
      font-size: 0.6rem;
      color: var(--text-dim);
    }

    /* Zen Mode */
    body.zen-mode .header,
    body.zen-mode .footer,
    body.zen-mode .left-panel,
    body.zen-mode .insights-panel {
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }

    /* Section Hidden State */
    .section-hidden { display: none !important; }
  
    /* Page-specific accent override */
    .topic-indicator { background: #8b5cf6 !important; }
    .resource-dot { background: #8b5cf6 !important; }
    .panel.accent-page .panel-header { border-left-color: #8b5cf6; }
    
  </style>
</head>
<body>
<div class="container">
<!-- Header -->
<header class="header">
<div class="ascii-border">╭──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮</div>
<div class="header-content">
<div class="header-left">
<a class="back-link" href="../index.html">←</a>
<a class="next-link" href="knowledge-engineering.html">→</a>
<span class="topic-indicator"></span>
<span class="brand">Design Craft</span>
<span class="resource-count">24 resources</span>
</div>
<div class="header-right">
<button class="stats-toggle" id="stats-toggle">stats</button>
<div class="clock" id="clock"></div>
</div>
</div>
<div class="ascii-border">╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯</div>
</header>
<!-- Main Grid -->
<main class="main-grid" id="main-grid">
<!-- Left Column: Context -->
<aside class="context-panel">
<!-- Context Panel -->
<div class="panel accent-cyan">
<div class="panel-top">╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮</div>
<div class="panel-header">
<span class="panel-icon">◇</span>
<span>CONTEXT</span>
</div>
<div class="panel-body">
<p class="context-lede">Design Craft bridges <strong>visualization</strong> and <strong>storytelling</strong>—the art of making data comprehensible and compelling. Great design isn't decoration; it's the mechanism that transforms raw numbers into understanding and action.</p>
<div class="stat-box">
<span class="stat-num">3s</span>
<span class="stat-label">TIME TO FORM FIRST IMPRESSION OF A DASHBOARD</span>
</div>
</div>
<div class="panel-bottom">╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯</div>
</div>
<!-- Viewers Row: Infographics + Slide Decks -->

<!-- Key Terms -->
<div class="panel accent-green">
<div class="panel-top">╭──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮</div>
<div class="panel-header">
<span class="panel-icon">◈</span>
<span>KEY TERMS</span>
</div>
<div class="panel-body">
<div class="terms-grid"> <div class="term-row">
<span class="term-name">Visual Vocabulary</span>
<span class="term-def">Matching chart types to the relationship you want to show</span>
</div>
<div class="term-row">
<span class="term-name">Scrollytelling</span>
<span class="term-def">Scroll-driven narrative that reveals data progressively</span>
</div>
<div class="term-row">
<span class="term-name">Data-Ink Ratio</span>
<span class="term-def">Proportion of ink devoted to data vs non-data elements</span>
</div>
<div class="term-row">
<span class="term-name">Big Number</span>
<span class="term-def">Hero KPI card designed for immediate comprehension</span>
</div>
<div class="term-row">
<span class="term-name">AI Slop</span>
<span class="term-def">Generic, over-designed aesthetic common in AI-generated UIs</span>
</div></div>
</div>
<div class="panel-bottom">╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯</div>
</div>
</aside>
<!-- Middle Column: Resources -->
<section class="resources-panel">
<div class="panel accent-cyan" style="height: 100%; display: flex; flex-direction: column;">
<div class="panel-top">╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮</div>
<div class="panel-header">
<span class="panel-icon">◇</span>
<span>RESOURCES</span>
</div>
<div class="panel-body" style="flex: 1; display: flex; flex-direction: column; padding: 0; overflow: hidden;">
<!-- Category Description Pane - Split View -->
<div class="category-pane">
<div class="category-tabs"><button class="category-tab active" data-category="all">All</button><button class="category-tab" data-category="dashboard-exemplars">Dashboar</button><button class="category-tab" data-category="ui/ux-principles">UI/UX</button><button class="category-tab" data-category="data-story-process">Data</button><button class="category-tab" data-category="scrollytelling">Scrollyt</button><button class="category-tab" data-category="visualization-libraries">Visualiz</button><button class="category-tab" data-category="ui-components">UI</button></div>
<div class="split-pane">
<div class="category-description" id="category-description">
<div class="category-description-title">All Resources</div>
<div class="category-description-text">Browse the complete Design Craft collection.</div>
<div class="category-description-count">24 resources</div>
</div>
<div class="resource-preview" id="resource-preview">
<div class="preview-empty">
<span class="preview-icon">◈</span>
<span>hover over a resource</span>
</div>
<div class="preview-content" id="preview-content" style="display:none;">
<div class="preview-source" id="preview-source"></div>
<div class="preview-title" id="preview-title"></div>
<div class="preview-scope" id="preview-scope"></div>
<div class="preview-meta">
<span class="preview-author" id="preview-author"></span>
<span class="preview-granularity" id="preview-granularity"></span>
</div>
</div>
</div>
</div>
</div>
<!-- Scrollable Resources -->
<div class="resources-scroll">
<!-- Dashboard Exemplars -->
<div class="resources-section" data-category="dashboard-exemplars">
<div class="category-header" onclick="toggleCategory(this)">
<span class="category-arrow">▼</span>
<span class="category-name">Dashboard Exemplars</span>
<span class="category-count">4</span>
</div>
<a class="resource-row" data-category="dashboard-exemplars" data-resource-id="r-001" href="https://public.tableau.com/app/profile/andy.kriebel/viz/VisualVocabulary/VisualVocabulary" target="_blank">
<span class="resource-tree">├──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">Visual Vocabulary</span>
<span class="resource-source">Tableau Public</span>
<span class="resource-author">A. Kriebel</span>
<span class="resource-time">5m</span>
<span class="resource-arrow">→</span>
</a>
<a class="resource-row" data-category="dashboard-exemplars" data-resource-id="r-002" href="https://public.tableau.com/app/profile/john.johansson/viz/BarDesignGuide/BarDesignGuide" target="_blank">
<span class="resource-tree">├──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">Bar Design Guide</span>
<span class="resource-source">Tableau Public</span>
<span class="resource-author">J. Johansson</span>
<span class="resource-time">5m</span>
<span class="resource-arrow">→</span>
</a>
<a class="resource-row" data-category="dashboard-exemplars" data-resource-id="r-003" href="https://public.tableau.com/app/profile/felipe.sebben/viz/The10CommandmentsofBigNumbersinPractice/The10CommandmentsofBigNumbers" target="_blank">
<span class="resource-tree">├──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">10 Commandments of Big Numbers</span>
<span class="resource-source">Tableau Public</span>
<span class="resource-author">F. Sebben</span>
<span class="resource-time">5m</span>
<span class="resource-arrow">→</span>
</a>
<a class="resource-row" data-category="dashboard-exemplars" data-resource-id="r-004" href="https://public.tableau.com/app/profile/kevin.flerlage/viz/TheTableauChartCatalog/TableauChartExamples" target="_blank">
<span class="resource-tree">└──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">Tableau Chart Catalog</span>
<span class="resource-source">Tableau Public</span>
<span class="resource-author">K. Flerlage</span>
<span class="resource-time">10m</span>
<span class="resource-arrow">→</span>
</a>
</div>
<!-- UI/UX Principles -->
<div class="resources-section" data-category="ui/ux-principles">
<div class="category-header" onclick="toggleCategory(this)">
<span class="category-arrow">▼</span>
<span class="category-name">UI/UX Principles</span>
<span class="category-count">3</span>
</div>
<a class="resource-row" data-category="ui/ux-principles" data-resource-id="r-005" href="https://x.com/kieranklaassen/status/1992350089118183433" target="_blank">
<span class="resource-tree">├──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">10 UI Design Principles</span>
<span class="resource-source">X/Twitter</span>
<span class="resource-author">K. Klaassen</span>
<span class="resource-time">3m</span>
<span class="resource-arrow">→</span>
</a>
<a class="resource-row" data-category="ui/ux-principles" data-resource-id="r-006" href="https://x.com/mengto/status/1992213336205951143" target="_blank">
<span class="resource-tree">├──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">Avoiding AI Slop Design</span>
<span class="resource-source">X/Twitter</span>
<span class="resource-author">M. To</span>
<span class="resource-time">3m</span>
<span class="resource-arrow">→</span>
</a>
<a class="resource-row" data-category="ui/ux-principles" data-resource-id="r-007" href="https://www.intotableaudata.com/" target="_blank">
<span class="resource-tree">└──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">Tableau Reference Guide</span>
<span class="resource-source">Personal Site</span>
<span class="resource-author">J. Shaffer</span>
<span class="resource-time">ref</span>
<span class="resource-arrow">→</span>
</a>
</div>
<!-- Data Story Process -->
<div class="resources-section" data-category="data-story-process">
<div class="category-header" onclick="toggleCategory(this)">
<span class="category-arrow">▼</span>
<span class="category-name">Data Story Process</span>
<span class="category-count">3</span>
</div>
<a class="resource-row" data-category="data-story-process" data-resource-id="r-008" href="https://pudding.cool/process/how-to-make-dope-shit-part-1/" target="_blank">
<span class="resource-tree">├──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">How to Make Dope Shit Pt 1</span>
<span class="resource-source">The Pudding</span>
<span class="resource-author">The Pudding</span>
<span class="resource-time">15m</span>
<span class="resource-arrow">→</span>
</a>
<a class="resource-row" data-category="data-story-process" data-resource-id="r-009" href="https://pudding.cool/process/how-to-make-dope-shit-part-2/" target="_blank">
<span class="resource-tree">├──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">How to Make Dope Shit Pt 2</span>
<span class="resource-source">The Pudding</span>
<span class="resource-author">The Pudding</span>
<span class="resource-time">15m</span>
<span class="resource-arrow">→</span>
</a>
<a class="resource-row" data-category="data-story-process" data-resource-id="r-010" href="https://pudding.cool/process/how-to-make-dope-shit-part-3/" target="_blank">
<span class="resource-tree">└──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">How to Make Dope Shit Pt 3</span>
<span class="resource-source">The Pudding</span>
<span class="resource-author">The Pudding</span>
<span class="resource-time">15m</span>
<span class="resource-arrow">→</span>
</a>
</div>
<!-- Scrollytelling -->
<div class="resources-section" data-category="scrollytelling">
<div class="category-header" onclick="toggleCategory(this)">
<span class="category-arrow">▼</span>
<span class="category-name">Scrollytelling</span>
<span class="category-count">5</span>
</div>
<a class="resource-row" data-category="scrollytelling" data-resource-id="r-011" href="https://pudding.cool/process/how-to-implement-scrollytelling/" target="_blank">
<span class="resource-tree">├──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">Scrollytelling Implementation</span>
<span class="resource-source">The Pudding</span>
<span class="resource-author">The Pudding</span>
<span class="resource-time">20m</span>
<span class="resource-arrow">→</span>
</a>
<a class="resource-row" data-category="scrollytelling" data-resource-id="r-012" href="https://pudding.cool/process/responsive-scrollytelling/" target="_blank">
<span class="resource-tree">├──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">Responsive Scrollytelling</span>
<span class="resource-source">The Pudding</span>
<span class="resource-author">The Pudding</span>
<span class="resource-time">15m</span>
<span class="resource-arrow">→</span>
</a>
<a class="resource-row" data-category="scrollytelling" data-resource-id="r-013" href="https://github.com/the-pudding/svelte-starter" target="_blank">
<span class="resource-tree">├──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">Pudding Svelte Starter</span>
<span class="resource-source">GitHub</span>
<span class="resource-author">The Pudding</span>
<span class="resource-time">15m</span>
<span class="resource-arrow">→</span>
</a>
<a class="resource-row" data-category="scrollytelling" data-resource-id="r-014" href="https://github.com/the-pudding/svelte-templates" target="_blank">
<span class="resource-tree">├──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">Pudding Svelte Templates</span>
<span class="resource-source">GitHub</span>
<span class="resource-author">A. Thomas</span>
<span class="resource-time">15m</span>
<span class="resource-arrow">→</span>
</a>
<a class="resource-row" data-category="scrollytelling" data-resource-id="r-015" href="https://github.com/the-pudding/pop-love-songs" target="_blank">
<span class="resource-tree">└──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">Pop Love Songs Analysis</span>
<span class="resource-source">GitHub</span>
<span class="resource-author">The Pudding</span>
<span class="resource-time">20m</span>
<span class="resource-arrow">→</span>
</a>
</div>
<!-- Visualization Libraries -->
<div class="resources-section" data-category="visualization-libraries">
<div class="category-header" onclick="toggleCategory(this)">
<span class="category-arrow">▼</span>
<span class="category-name">Visualization Libraries</span>
<span class="category-count">3</span>
</div>
<a class="resource-row" data-category="visualization-libraries" data-resource-id="r-016" href="https://d3js.org/" target="_blank">
<span class="resource-tree">├──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">D3.js</span>
<span class="resource-source">Website</span>
<span class="resource-author">M. Bostock</span>
<span class="resource-time">ref</span>
<span class="resource-arrow">→</span>
</a>
<a class="resource-row" data-category="visualization-libraries" data-resource-id="r-017" href="https://layercake.graphics/" target="_blank">
<span class="resource-tree">├──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">Layer Cake</span>
<span class="resource-source">Website</span>
<span class="resource-author">M. Keller</span>
<span class="resource-time">20m</span>
<span class="resource-arrow">→</span>
</a>
<a class="resource-row" data-category="visualization-libraries" data-resource-id="r-018" href="https://github.com/russellgoldenberg/scrollama" target="_blank">
<span class="resource-tree">└──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">Scrollama</span>
<span class="resource-source">GitHub</span>
<span class="resource-author">R. Goldenberg</span>
<span class="resource-time">10m</span>
<span class="resource-arrow">→</span>
</a>
</div>
<!-- UI Components -->
<div class="resources-section" data-category="ui-components">
<div class="category-header" onclick="toggleCategory(this)">
<span class="category-arrow">▼</span>
<span class="category-name">UI Components</span>
<span class="category-count">3</span>
</div>
<a class="resource-row" data-category="ui-components" data-resource-id="r-019" href="https://aura.build" target="_blank">
<span class="resource-tree">├──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">Aura: AI Landing Pages</span>
<span class="resource-source">Website</span>
<span class="resource-author">Aura</span>
<span class="resource-time">5m</span>
<span class="resource-arrow">→</span>
</a>
<a class="resource-row" data-category="ui-components" data-resource-id="r-020" href="https://uiverse.io" target="_blank">
<span class="resource-tree">├──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">Uiverse</span>
<span class="resource-source">Website</span>
<span class="resource-author">Uiverse</span>
<span class="resource-time">ref</span>
<span class="resource-arrow">→</span>
</a>
<a class="resource-row" data-category="ui-components" data-resource-id="r-021" href="https://21st.dev" target="_blank">
<span class="resource-tree">└──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">21st.dev</span>
<span class="resource-source">Website</span>
<span class="resource-author">21st.dev</span>
<span class="resource-time">5m</span>
<span class="resource-arrow">→</span>
</a>
</div>
<!-- Pudding Infrastructure -->
<div class="resources-section" data-category="pudding-infrastructure">
<div class="category-header" onclick="toggleCategory(this)">
<span class="category-arrow">▼</span>
<span class="category-name">Pudding Infrastructure</span>
<span class="category-count">3</span>
</div>
<a class="resource-row" data-category="pudding-infrastructure" data-resource-id="r-022" href="https://github.com/the-pudding/data" target="_blank">
<span class="resource-tree">├──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">Pudding Data Repository</span>
<span class="resource-source">GitHub</span>
<span class="resource-author">The Pudding</span>
<span class="resource-time">ref</span>
<span class="resource-arrow">→</span>
</a>
<a class="resource-row" data-category="pudding-infrastructure" data-resource-id="r-023" href="https://github.com/the-pudding/website" target="_blank">
<span class="resource-tree">├──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">Pudding Website Source</span>
<span class="resource-source">GitHub</span>
<span class="resource-author">The Pudding</span>
<span class="resource-time">10m</span>
<span class="resource-arrow">→</span>
</a>
<a class="resource-row" data-category="pudding-infrastructure" data-resource-id="r-024" href="https://github.com/SveltePress/sveltepress" target="_blank">
<span class="resource-tree">└──</span>
<span class="resource-dot" style="background: #8b5cf6;"></span>
<span class="resource-title">SveltePress</span>
<span class="resource-source">GitHub</span>
<span class="resource-author">SveltePress</span>
<span class="resource-time">15m</span>
<span class="resource-arrow">→</span>
</a>
</div></div>
</div>
<div class="panel-bottom">╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯</div>
</div>
</section>
<!-- Right Column: Insights -->
<aside class="insights-panel">
<div class="panel accent-orange">
<div class="panel-top">╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮</div>
<div class="panel-header">
<span class="panel-icon">◉</span>
<span>INSIGHTS</span>
</div>
<div class="panel-body">
<div class="insights-section">
<div class="insights-title">SOURCES BY GEOGRAPHY</div>
<div class="insights-bar">
<span class="insights-bar-label">USA</span>
<div class="insights-bar-track">
<div class="insights-bar-fill geo-usa" style="width: 85%"></div>
</div>
<span class="insights-bar-value">85%</span>
</div>
<div class="insights-bar">
<span class="insights-bar-label">Europe</span>
<div class="insights-bar-track">
<div class="insights-bar-fill geo-eu" style="width: 0%"></div>
</div>
<span class="insights-bar-value">0%</span>
</div>
<div class="insights-bar">
<span class="insights-bar-label">Asia</span>
<div class="insights-bar-track">
<div class="insights-bar-fill geo-asia" style="width: 0%"></div>
</div>
<span class="insights-bar-value">0%</span>
</div>
<div class="insights-gap">0 sources from EU, Asia, Africa, S. America</div>
</div>
<div class="insights-section">
<div class="insights-title">VOICES</div>
<div class="insights-voices">
<div class="insights-voice">
<span class="insights-voice-icon male">♂</span>
<span>5</span>
</div>
<div class="insights-voice">
<span class="insights-voice-icon female">♀</span>
<span>1</span>
</div>
<div class="insights-voice">
<span class="insights-voice-icon unknown">?</span>
<span>5</span>
</div>
</div>
</div>
<div class="insights-section">
<div class="insights-title">TOP CONTRIBUTORS</div>
<div class="insights-contributor">
<span class="insights-contributor-name">J. Talisman</span>
<span class="insights-contributor-count">11</span>
<div class="insights-contributor-bar">
<span class="insights-contributor-pip"></span>
<span class="insights-contributor-pip"></span>
<span class="insights-contributor-pip"></span>
<span class="insights-contributor-pip"></span>
<span class="insights-contributor-pip"></span>
<span class="insights-contributor-pip"></span>
<span class="insights-contributor-pip"></span>
<span class="insights-contributor-pip"></span>
</div>
</div>
<div class="insights-contributor">
<span class="insights-contributor-name">dbt Labs</span>
<span class="insights-contributor-count">4</span>
<div class="insights-contributor-bar">
<span class="insights-contributor-pip"></span>
<span class="insights-contributor-pip"></span>
<span class="insights-contributor-pip"></span>
</div>
</div>
<div class="insights-contributor">
<span class="insights-contributor-name">LangChain</span>
<span class="insights-contributor-count">3</span>
<div class="insights-contributor-bar">
<span class="insights-contributor-pip"></span>
<span class="insights-contributor-pip"></span>
</div>
</div>
</div>
</div>
<div class="panel-bottom">╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯</div>
</div>
</aside>
</main>
<!-- Footer -->
<footer class="footer">
<div class="status-group">
<div class="status-item">
<span class="status-dot"></span>
<span>online</span>
</div>
<div class="status-item">54 resources</div>
<div class="status-item">~6 hrs reading</div>
</div>
<div>data-centered</div>
</footer>
</div>
<!-- Resource Card Popup -->
<div class="resource-card-backdrop" id="card-backdrop"></div>
<div class="resource-card" id="resource-card">
<div class="rc-border-top">╭──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮</div>
<div class="rc-header">
<div class="rc-source">
<span class="rc-source-icon">◈</span>
<span class="rc-source-label" id="rc-source">Substack</span>
</div>
<span class="rc-close" onclick="closeResourceCard()">×</span>
</div>
<div class="rc-title-section">
<h3 class="rc-title" id="rc-title">Resource Title</h3>
<p class="rc-scope-note" id="rc-scope">Description here...</p>
</div>
<div class="rc-meta" id="rc-meta">
<span class="rc-badge domain">knowledge-engineering</span>
<span class="rc-badge granularity-implementation">implementation</span>
<span class="rc-badge">10m read</span>
</div>
<div class="rc-author">
<div class="rc-author-header">
<span class="rc-author-icon">◦</span>
<span class="rc-author-name" id="rc-author-name">Author Name</span>
</div>
<div class="rc-author-details" id="rc-author-details">Practitioner · Company</div>
</div>
<div class="rc-relationships" id="rc-relationships">
<div class="rc-rel-header">
<span>◇</span>
<span>RELATIONSHIPS</span>
</div>
<div class="rc-rel-list" id="rc-rel-list">
<div class="rc-rel-item">
<span class="rc-rel-type">broader:</span>
<span class="rc-rel-link">Context Engineering</span>
</div>
</div>
</div>
<div class="rc-actions">
<button class="rc-btn rc-btn-open" id="rc-open-btn">Open Resource →</button>
<button class="rc-btn rc-btn-close" onclick="closeResourceCard()">Close</button>
</div>
</div>
<!-- Lightbox -->
<div class="lightbox" id="lightbox" onclick="closeLightbox()">
<span class="lightbox-close">×</span>
<img alt="Infographic" id="lightbox-img" src="" style="display:none;"/>
<iframe id="lightbox-pdf" src="" style="display:none;"></iframe>
</div>
<script>
    // ═══════════════════════════════════════════
    // DATA
    // ═══════════════════════════════════════════

        const categoryDescriptions = {
      'all': { title: 'All Resources', description: 'Browse the complete Design Craft collection.', count: 24 },
      'dashboard-exemplars': { title: 'Dashboard Exemplars', description: 'Dashboard Exemplars resources.', count: 4 },
      'ui/ux-principles': { title: 'UI/UX Principles', description: 'UI/UX Principles resources.', count: 3 },
      'data-story-process': { title: 'Data Story Process', description: 'Data Story Process resources.', count: 3 },
      'scrollytelling': { title: 'Scrollytelling', description: 'Scrollytelling resources.', count: 5 },
      'visualization-libraries': { title: 'Visualization Libraries', description: 'Visualization Libraries resources.', count: 3 },
      'ui-components': { title: 'UI Components', description: 'UI Components resources.', count: 3 },
      'pudding-infrastructure': { title: 'Pudding Infrastructure', description: 'Pudding Infrastructure resources.', count: 3 },
    };

        const resourceData = {
      'r-001': { title: 'Visual Vocabulary', source: 'Tableau Public', author: 'A. Kriebel', scope: 'Interactive guide for selecting the right chart type based on data relationship.', url: 'https://public.tableau.com/app/profile/andy.kriebel/viz/VisualVocabulary/VisualVocabulary', granularity: 'implementation' },
      'r-002': { title: 'Bar Design Guide', source: 'Tableau Public', author: 'J. Johansson', scope: 'Comprehensive guide to bar chart design best practices.', url: 'https://public.tableau.com/app/profile/john.johansson/viz/BarDesignGuide/BarDesignGuide', granularity: 'implementation' },
      'r-003': { title: '10 Commandments of Big Numbers', source: 'Tableau Public', author: 'F. Sebben', scope: 'Design principles for effective KPI and metric cards.', url: 'https://public.tableau.com/app/profile/felipe.sebben/viz/The10CommandmentsofBigNumbersinPractice/The10CommandmentsofBigNumbers', granularity: 'implementation' },
      'r-004': { title: 'Tableau Chart Catalog', source: 'Tableau Public', author: 'K. Flerlage', scope: 'Comprehensive catalog of chart types and visualization examples.', url: 'https://public.tableau.com/app/profile/kevin.flerlage/viz/TheTableauChartCatalog/TableauChartExamples', granularity: 'implementation' },
      'r-005': { title: '10 UI Design Principles', source: 'X/Twitter', author: 'K. Klaassen', scope: 'Fewer colors, larger fonts, whitespace, system fonts, high contrast.', url: 'https://x.com/kieranklaassen/status/1992350089118183433', granularity: 'implementation' },
      'r-006': { title: 'Avoiding AI Slop Design', source: 'X/Twitter', author: 'M. To', scope: 'Draw from Swiss design, Japanese minimalism, and Apple\'s design system.', url: 'https://x.com/mengto/status/1992213336205951143', granularity: 'implementation' },
      'r-007': { title: 'Tableau Reference Guide', source: 'Personal Site', author: 'J. Shaffer', scope: 'Comprehensive accordion-style reference for Tableau resources.', url: 'https://www.intotableaudata.com/', granularity: 'implementation' },
      'r-008': { title: 'How to Make Dope Shit Pt 1', source: 'The Pudding', author: 'The Pudding', scope: 'Ideation and concept development for compelling data stories.', url: 'https://pudding.cool/process/how-to-make-dope-shit-part-1/', granularity: 'implementation' },
      'r-009': { title: 'How to Make Dope Shit Pt 2', source: 'The Pudding', author: 'The Pudding', scope: 'Data gathering and analysis for data stories.', url: 'https://pudding.cool/process/how-to-make-dope-shit-part-2/', granularity: 'implementation' },
      'r-010': { title: 'How to Make Dope Shit Pt 3', source: 'The Pudding', author: 'The Pudding', scope: 'Production and publishing data stories.', url: 'https://pudding.cool/process/how-to-make-dope-shit-part-3/', granularity: 'implementation' },
      'r-011': { title: 'Scrollytelling Implementation', source: 'The Pudding', author: 'The Pudding', scope: 'Technical guide with step-by-step code examples.', url: 'https://pudding.cool/process/how-to-implement-scrollytelling/', granularity: 'implementation' },
      'r-012': { title: 'Responsive Scrollytelling', source: 'The Pudding', author: 'The Pudding', scope: 'Making scroll-driven stories work across devices and screen sizes.', url: 'https://pudding.cool/process/responsive-scrollytelling/', granularity: 'implementation' },
      'r-013': { title: 'Pudding Svelte Starter', source: 'GitHub', author: 'The Pudding', scope: 'SvelteKit template with ArchieML, LayerCake charts, and scrollytelling helpers.', url: 'https://github.com/the-pudding/svelte-starter', granularity: 'implementation' },
      'r-014': { title: 'Pudding Svelte Templates', source: 'GitHub', author: 'A. Thomas', scope: 'Reusable Svelte components with accessibility notes. ButtonSet, Range, Scrolly.', url: 'https://github.com/the-pudding/svelte-templates', granularity: 'implementation' },
      'r-015': { title: 'Pop Love Songs Analysis', source: 'GitHub', author: 'The Pudding', scope: 'Billboard data journalism example with full Svelte scrollytelling implementation.', url: 'https://github.com/the-pudding/pop-love-songs', granularity: 'implementation' },
      'r-016': { title: 'D3.js', source: 'Website', author: 'M. Bostock', scope: 'The foundational library for bespoke data visualization. Selections, scales, shapes.', url: 'https://d3js.org/', granularity: 'implementation' },
      'r-017': { title: 'Layer Cake', source: 'Website', author: 'M. Keller', scope: 'Headless Svelte graphics framework. SVG, HTML, Canvas, WebGL layers sharing coordinates.', url: 'https://layercake.graphics/', granularity: 'implementation' },
      'r-018': { title: 'Scrollama', source: 'GitHub', author: 'R. Goldenberg', scope: 'Lightweight scroll-driven storytelling library using IntersectionObserver.', url: 'https://github.com/russellgoldenberg/scrollama', granularity: 'implementation' },
      'r-019': { title: 'Aura: AI Landing Pages', source: 'Website', author: 'Aura', scope: 'AI landing page builder. Export to HTML and Figma. 65K+ users.', url: 'https://aura.build', granularity: 'implementation' },
      'r-020': { title: 'Uiverse', source: 'Website', author: 'Uiverse', scope: 'Open-source UI elements library. Buttons, toggles, cards, loaders in pure CSS.', url: 'https://uiverse.io', granularity: 'implementation' },
      'r-021': { title: '21st.dev', source: 'Website', author: '21st.dev', scope: 'AI product designer with Tailwind 4 and shadcn/ui component generation.', url: 'https://21st.dev', granularity: 'implementation' },
      'r-022': { title: 'Pudding Data Repository', source: 'GitHub', author: 'The Pudding', scope: 'Datasets from Pudding stories. 100+ stories, update frequency, data dictionaries.', url: 'https://github.com/the-pudding/data', granularity: 'implementation' },
      'r-023': { title: 'Pudding Website Source', source: 'GitHub', author: 'The Pudding', scope: 'Publishing workflow with Google Sheets for story data and ArchieML CMS.', url: 'https://github.com/the-pudding/website', granularity: 'implementation' },
      'r-024': { title: 'SveltePress', source: 'GitHub', author: 'SveltePress', scope: 'Content-centered site builder on SvelteKit. VitePress alternative for Svelte.', url: 'https://github.com/SveltePress/sveltepress', granularity: 'implementation' },
    };

    // ═══════════════════════════════════════════
    // CLOCK
    // ═══════════════════════════════════════════

    function updateClock() {
      const now = new Date();
      const time = now.toLocaleTimeString('en-US', { hour12: false, hour: '2-digit', minute: '2-digit' });
      document.getElementById('clock').textContent = time;
    }
    updateClock();
    setInterval(updateClock, 60000);

    // ═══════════════════════════════════════════
    // INSIGHTS TOGGLE
    // ═══════════════════════════════════════════

    const statsToggle = document.getElementById('stats-toggle');
    const mainGrid = document.getElementById('main-grid');

    statsToggle.addEventListener('click', () => {
      mainGrid.classList.toggle('insights-hidden');
      statsToggle.classList.toggle('active');
    });

    // ═══════════════════════════════════════════
    // INFOGRAPHICS
    // ═══════════════════════════════════════════

    const infographics = [
      '../slides/semantic_layer_infographic.png',
      '../slides/context_gap.png',
      '../slides/bridging_the_context_gap.png'
    ];
    let currentInfographic = 0;

    function selectInfographic(index) {
      currentInfographic = index;
      document.getElementById('main-img').src = infographics[index];
      document.querySelectorAll('.panel.accent-purple .thumbnail').forEach((thumb, i) => {
        thumb.classList.toggle('active', i === index);
      });
    }

    // ═══════════════════════════════════════════
    // SLIDE DECKS
    // ═══════════════════════════════════════════

    const slideDecks = [
      { img: '../slides/context_gap.png', pdf: '../slides/AI_Context_Gap.pdf', title: 'AI Context Gap' },
      { img: '../slides/bridging_the_context_gap.png', pdf: '../slides/AI_Value_Chasm.pdf', title: 'AI Value Chasm' },
      { img: '../slides/semantic_layer_infographic.png', pdf: '../slides/Context_Engineering_Unlocking_AI_Value.pdf', title: 'Context Engineering' }
    ];
    let currentSlide = 0;

    function selectSlide(index) {
      currentSlide = index;
      document.getElementById('pdf-preview-frame').src = slideDecks[index].pdf + '#view=FitH&toolbar=0&navpanes=0';
      document.querySelectorAll('.slide-tab').forEach((tab, i) => {
        tab.classList.toggle('active', i === index);
      });
    }

    // ═══════════════════════════════════════════
    // LIGHTBOX
    // ═══════════════════════════════════════════

    let lightboxMode = 'infographic';

    function openLightbox(mode) {
      lightboxMode = mode;
      const lightbox = document.getElementById('lightbox');
      const imgEl = document.getElementById('lightbox-img');
      const pdfEl = document.getElementById('lightbox-pdf');

      if (mode === 'infographic') {
        imgEl.src = infographics[currentInfographic];
        imgEl.style.display = 'block';
        pdfEl.style.display = 'none';
      } else if (mode === 'slides') {
        pdfEl.src = slideDecks[currentSlide].pdf;
        pdfEl.style.display = 'block';
        imgEl.style.display = 'none';
      }

      lightbox.classList.add('active');
    }

    function closeLightbox() {
      const lightbox = document.getElementById('lightbox');
      lightbox.classList.remove('active');
      document.getElementById('lightbox-pdf').src = '';
    }

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeLightbox();
        closeResourceCard();
      }
    });

    // ═══════════════════════════════════════════
    // CATEGORY DESCRIPTION PANE
    // ═══════════════════════════════════════════

    function updateCategoryDescription(category) {
      const desc = categoryDescriptions[category];
      if (!desc) return;

      const pane = document.getElementById('category-description');
      pane.innerHTML = `
        <div class="category-description-title">${desc.title}</div>
        <div class="category-description-text">${desc.description}</div>
        <div class="category-description-count">${desc.count} resources</div>
      `;
    }

    // Category tab clicks
    document.querySelectorAll('.category-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        const category = tab.dataset.category;

        document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
        tab.classList.add('active');

        updateCategoryDescription(category);

        document.querySelectorAll('.resources-section').forEach(section => {
          if (category === 'all' || section.dataset.category === category) {
            section.classList.remove('hidden');
          } else {
            section.classList.add('hidden');
          }
        });
      });
    });

    // Update resource preview pane
    function updateResourcePreview(resourceId) {
      const data = resourceData[resourceId];
      const previewEmpty = document.querySelector('.preview-empty');
      const previewContent = document.getElementById('preview-content');

      if (data) {
        previewEmpty.style.display = 'none';
        previewContent.style.display = 'block';
        document.getElementById('preview-source').textContent = data.source;
        document.getElementById('preview-title').textContent = data.title;
        document.getElementById('preview-scope').textContent = data.scope;
        document.getElementById('preview-author').textContent = data.author + ' · ' + data.authorDetails;
        document.getElementById('preview-granularity').textContent = data.granularity;
      } else {
        previewEmpty.style.display = 'flex';
        previewContent.style.display = 'none';
      }
    }

    // Hover on resource → update category description AND resource preview
    document.querySelectorAll('.resource-row').forEach(row => {
      row.addEventListener('mouseenter', () => {
        const category = row.dataset.category;
        const resourceId = row.dataset.resourceId;

        if (category) {
          // Update description pane
          updateCategoryDescription(category);

          // Highlight matching tab
          document.querySelectorAll('.category-tab').forEach(tab => {
            tab.classList.toggle('active', tab.dataset.category === category);
          });
        }

        // Update resource preview
        if (resourceId) {
          updateResourcePreview(resourceId);
        }
      });
    });

    // ═══════════════════════════════════════════
    // CATEGORY COLLAPSE
    // ═══════════════════════════════════════════

    function toggleCategory(header) {
      header.classList.toggle('collapsed');
      const section = header.parentElement;
      const resources = section.querySelectorAll('.resource-row');
      resources.forEach(row => {
        row.classList.toggle('hidden', header.classList.contains('collapsed'));
      });
    }

    // ═══════════════════════════════════════════
    // RESOURCE CARDS
    // ═══════════════════════════════════════════

    const cardBackdrop = document.getElementById('card-backdrop');
    const resourceCard = document.getElementById('resource-card');
    let currentResourceUrl = '';

    function showResourceCard(resourceId, element) {
      const data = resourceData[resourceId];
      if (!data) return;

      currentResourceUrl = data.url;

      // Populate card
      document.getElementById('rc-source').textContent = data.source;
      document.getElementById('rc-title').textContent = data.title;
      document.getElementById('rc-scope').textContent = data.scope;
      document.getElementById('rc-author-name').textContent = data.author;
      document.getElementById('rc-author-details').textContent = data.authorDetails;

      // Meta badges
      const metaEl = document.getElementById('rc-meta');
      metaEl.innerHTML = `
        <span class="rc-badge domain">knowledge-engineering</span>
        <span class="rc-badge granularity-${data.granularity}">${data.granularity}</span>
      `;

      // Relationships
      const relList = document.getElementById('rc-rel-list');
      if (data.relationships && data.relationships.length > 0) {
        relList.innerHTML = data.relationships.map(r =>
          `<div class="rc-rel-item">
            <span class="rc-rel-type">${r.type}:</span>
            <span class="rc-rel-link">${r.label}</span>
          </div>`
        ).join('');
        document.getElementById('rc-relationships').style.display = 'block';
      } else {
        document.getElementById('rc-relationships').style.display = 'none';
      }

      // Open button
      document.getElementById('rc-open-btn').onclick = () => {
        window.open(currentResourceUrl, '_blank');
      };

      // Position card - skip on mobile (CSS handles bottom sheet)
      var isMobile = window.innerWidth <= 768;

      if (isMobile) {
        // Clear any desktop positioning, let CSS handle it
        resourceCard.style.left = '';
        resourceCard.style.top = '';
        resourceCard.style.bottom = '';
      } else {
        // Desktop: Position card centered over clicked row
        var rect = element.getBoundingClientRect();
        var cardWidth = 420;
        var cardHeight = 450;
        var left = rect.left + (rect.width / 2) - (cardWidth / 2);
        var top = rect.bottom + 10;

        // Clamp to viewport
        if (left < 20) left = 20;
        if (left + cardWidth > window.innerWidth - 20) left = window.innerWidth - cardWidth - 20;
        if (top + cardHeight > window.innerHeight - 20) top = rect.top - cardHeight - 10;
        if (top < 20) top = 20;

        resourceCard.style.left = left + 'px';
        resourceCard.style.top = top + 'px';
      }

      // Show
      cardBackdrop.classList.add('visible');
      resourceCard.classList.add('visible');
    }

    function closeResourceCard() {
      cardBackdrop.classList.remove('visible');
      resourceCard.classList.remove('visible');
    }

    cardBackdrop.addEventListener('click', closeResourceCard);

    // Click on resource row to show card (prevent link navigation)
    document.querySelectorAll('.resource-row').forEach(row => {
      row.addEventListener('click', (e) => {
        e.preventDefault();
        const resourceId = row.dataset.resourceId;
        if (resourceId) {
          showResourceCard(resourceId, row);
        }
      });
    });
  </script>
<!-- TUI Controller -->
<script src="tui.js"></script>
</body>
</html>
